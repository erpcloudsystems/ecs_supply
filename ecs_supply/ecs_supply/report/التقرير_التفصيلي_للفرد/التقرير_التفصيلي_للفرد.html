<style>
    * {
            margin:0;
            padding:0;
            direction:rtl;
        }
        .print-format {
            padding:0in;
            
        }
    .header {
        margin-top:20px;
        display:flex; 
        flex-direction:column;
        justify-content:center;
    }
    .under-header {
        display:flex;
        flex-direction:row;
        justify-content:space-between;
        align-items:center;
    }
    .esm-algeha {
        margin-top:30px;
        display:flex;
        flex-direction:row;
        justify-content:space-between;
    }
    table, th, td , th{
        border:2px solid black;
        border-collapse:collapse;
        text-align:center;
        white-space: nowrap;

    }
    .print-format th {
        color:black;
            text-align:center;
            font-weight:bold;
            background-color:lightgray;
            white-space: nowrap;

    
    }
    .print-format td {
        padding: 0px !important;
        white-space: nowrap;
    }
    .break {
        flex-basis: 100%;
        height: 0;
      }
      .column1 {
        border-left: 2px solid black;
      }
    .table1 {
        text-align: center;
        margin-top:5px;
        margin-right:20px;
        margin-left:20px;
        display:flex; 
        flex-direction:column;    
    }
    .table1 b{
        font-weight: bold;
    }
    .basic_data{
        font-weight: bold;
        position: absolute;
    }

</style>
    {% var numbers = ["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"] %}

    {% var pageNumber = 0 %}
    {% var months = ["يناير", "فبراير", "مارس", "ابريل", "مايو", "يونيو", "يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر", "ديسمبر"]%}
    
<div class="header">

    <div class="under-header">
    <div style="display:flex; flex-direction:column; align-items:center; margin-right:20px;">
        <div>
    <img style="width:40px; height:40px; margin-top:16px;" src="/files/emdadlogo.png">
    </div>
    <div style="font-weight:bold;
    text-align: center;">
        وزارة الداخلية
        <br>
الإدارة العامة لإمداد الشرطة
<br>
  إدارة البحث الجنائي    
  <br>  
  قسم المعلومات
</div>
    </div>     
    <div style="font-weight: bold;
    font-size: 20pt;
   text-align: center;
   text-decoration: underline;">
تقرير 
<br>
 تفصيلي للفرد
</div>
    <div>
        <div style="display: flex; flex-direction: row; align-items: center;">
            <div style="font-weight: bold;">تاريخ الطباعة  </div>
            <div style="border:2px solid black; width:100px; text-align:center; margin-left:10px;margin-right:10px; font-weight:bold;">
                {%= frappe.datetime.str_to_user(frappe.datetime.get_datetime_as_string()) %}
                {{data[0].cur_user}}
            </div>
        </div>

    </div>
    </div>

</div>

    {% var counter = 1 %}



<div class="table1">
    <table style="font-family:Cairo" dir="rtl">
    <thead>
        <tr>

            <b>البيانات الأساسية</b>
            <th> <b>رقم الملف:</b></th>
            <th> <b>رقم الشرطة:</b></th>
            <th> <b>الرتبة:</b></th>
            <th> <b>الأسم:</b></th>
            <th> <b>تاريخ الإلتحاق بالإدارة:</b></th>
            <th> <b>العمل القائم به:</b></th>
    </tr>
</thead>
<tbody>
    {% for(var i=0, f=data.length; i<f; i++) { %}
    <td>{%= data[i].custom_file_number4 %}</td>
    <td>{%= data[i].employee_number %}</td>
    <td>{%= data[i].policemen_rank %}</td>
    <td>{%= data[i].first_name %}</td>
    <td>{%= data[i].date_of_joining %}</td>
    <td>{%= data[i].sup_department %}</td>
   
        </tbody>
        {% } %}
    </table>
</div>

<div class="table1">
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            <th>موقفه من حمل السلاح</th>
            {% for(var i=0, f=data.length; i<f; i++) { %}

                {% if(data[i].gun_carrying_case == 'غير مصرح عضوي' | data[i].gun_carrying_case == 'غير مصرح نفسي' | data[i].gun_carrying_case == 'غير مصرح إحترازي' ) { %}

                <th>السبب</th>

                {% } %}
            </tr>
            {% } %}
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                        <td>{%= data[i].gun_carrying_case %}</td>

                        {% if(data[i].gun_carrying_case == 'غير مصرح عضوي' | data[i].gun_carrying_case == 'غير مصرح نفسي' | data[i].gun_carrying_case == 'غير مصرح إحترازي' ) { %}
                        <td>{%= data[i].reason %}</td>
                        {% } %}
                </tr>
            {% } %}
        </tbody>
    </table>
</div>
<div class="table1">
    {% for(var i=0, f=data.length; i<f; i++) { %}
    <b>الكشف السياسي </b>
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            <tr>
                <th> تاريخ الوارد الأمن الوطني</th>
                <th>النتيجة</th>

            </tr>
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                        <td>{%= data[i].receipt_the_result_of_political_investigation_date %}</td>
                        <td>{%= data[i].political_investigation_result %}</td>
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}
</div>
<div class="table1">
    {% for(var i=0, f=data.length; i<f; i++) { %}

    <b>الكشف الجنائي</b>
    <table style="font-family:Cairo" dir="rtl">
        
        <thead>
            <tr>
                <th>نتيجة الفرد (احكام)</th>
                <th>نتيجة الفرد (معلومات)</th>
                <th>نتيجة اقاربه (احكام)</th>
                <th>نتيجة اقاربه (معلومات)</th>

            </tr>
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                        <td>{%= data[i].custom_criminal_investigation_result3 %}</td>
                        <td>{%= data[i].criminal_investigation_result %}</td>
                        <td>{%= data[i].result_of_the_investions %}</td>
                        <td>{%= data[i].result_of_the_investions_of_his_relatives %}</td>
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}

</div>
<div class="table1">
    {% for(var i=0, f=data.length; i<f; i++) { %}
    {% if(data[i].health_details3) { %}
    <b>الحالة النفسية </b>
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            {% for(var i=0, f=data.length; i<f; i++) { %}
            <tr>
                {% if(data[i].health_details3) { %}

                <th>الحالة النفسية </th>
                {% if(data[i].health_details3 == "غير طبيعية") { %}
                <th>تفاصيل الحالة</th>
                {% } %}
                {% } %}
            </tr>
            {% } %}
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                        <td>{%= data[i].health_details3 %}</td>

                        {% if(data[i].health_details3 == "غير طبيعية") { %}
                        <td>{%= data[i].health_details %}</td>
                        {% } %}
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}
    {% } %}

</div>

<div class="table1">
   
    {% for(var i=0, f=data.length; i<f; i++) { %}
    {% if(data[i].secret_emp_name != "null" ) { %}
    <b>الملاحظات السرية</b>
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            <tr>
                <th>قرار الوضع</th>
                <th>تاريخ الوضع</th>
                <th>قرار الرفع</th>
                <th>تاريخ الرفع</th>
                <th>السبب</th>
            </tr>
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                        <td>{%= data[i].position_decision %}</td>
                        <td>{%= data[i].position_date %}</td>
                        <td>{%= data[i].lifting_decision %}</td>
                        <td>{%= data[i].lifting_date %}</td>
                        <td>{%= data[i].sn_reason %}</td>
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}
    {% } %}

</div>

<div class="table1">
   
    {% for(var i=0, f=data.length; i<f; i++) { %}
    {% if(data[i].policeman_name != "null" ) { %}
    <b>مجالس التأديب</b>
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            <tr>
                <th>نوع العقوبة</th>
                <th>رقم قرار الاحالة</th>
                <th>تاريخ الاحالة</th>
                <th>رقم الدعوة</th>
                <th>قرار مجلس التاديب النهائي</th>
            </tr>
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                    <td>{%= data[i].punishment_type %}</td>
                    <td>{%= data[i].referral_decision_number %}</td>
                    <td>{%= data[i].referral_date %}</td>
                    <td>{%= data[i].call_number %}</td>
                    <td>{%= data[i].disciplinary_board_decision %}</td>
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}
    {% } %}

</div>

<div class="table1">
   
    {% for(var i=0, f=data.length; i<f; i++) { %}
    {% if(data[i].ct_employee != "null" ) { %}
    <b>المحاكمات الجنائية</b>
    <table style="font-family:Cairo" dir="rtl">
        <thead>
            <tr>
                    <th>رقم القضية</th>
                    <th>التهمة</th>
                    <th>قرار النيابة العامة</th>
                    <th>قرار المحكمة</th>
                    <th>تاريخ القرار</th>
                    <th>تاريخ القرار</th>
                    <th>موقفه من العمل</th>
                    <th>ملاحظات</th>
            </tr>
        </thead>

        <tbody>
            {% for(var i=0, f=data.length; i<f; i++) { %}
                <tr>
                    <td>{%= data[i].the_case_number %}</td>
                    <td>{%= data[i].the_charge %}</td>
                    <td>{%= data[i].public_prosecution_decision %}</td>
                    <td>{%= data[i].the_courts_decision %}</td>
                    <td>{%= data[i].date_of_the_decision %}</td>
                    <td>{%= data[i].date_of_the_decision2 %}</td>
                    <td>{%= data[i].his_attitude_to_work %}</td>
                    <td>{%= data[i].notes %}</td>
                </tr>
            {% } %}
        </tbody>
    </table>
    {% } %}
    {% } %}

</div>